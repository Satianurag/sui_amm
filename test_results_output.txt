INCLUDING DEPENDENCY Bridge
INCLUDING DEPENDENCY SuiSystem
INCLUDING DEPENDENCY Sui
INCLUDING DEPENDENCY MoveStdlib
BUILDING sui_amm
Running Move unit tests
[ PASS    ] sui_amm::base64::test_create_svg_data_uri
[ PASS    ] sui_amm::base64::test_empty_string
[ PASS    ] sui_amm::base64::test_encode_longer
[ PASS    ] sui_amm::base64::test_encode_simple
[ PASS    ] sui_amm::base64::test_encode_with_padding
[ PASS    ] sui_amm::string_utils::test_concat
[ PASS    ] sui_amm::string_utils::test_format_decimal
[ PASS    ] sui_amm::string_utils::test_format_with_commas
[ PASS    ] sui_amm::string_utils::test_rgb_to_hex
[ PASS    ] sui_amm::svg_nft::test_generate_svg
[ PASS    ] sui_amm::string_utils::test_to_hex_string
[ PASS    ] sui_amm::test_k_invariant::test_k_invariant_1000_random_swaps
[ PASS    ] sui_amm::string_utils::test_truncate
[ PASS    ] sui_amm::string_utils::test_u64_to_string
[ PASS    ] sui_amm::svg_nft::test_string_contains
[ PASS    ] sui_amm::test_edge_cases::test_consecutive_small_swaps_maintain_invariant
[ PASS    ] sui_amm::test_k_invariant::test_k_invariant_mixed_operations
[ PASS    ] sui_amm::test_access_control::test_admin_can_add_fee_tier
[ PASS    ] sui_amm::test_attack_vectors::test_amp_bounded_by_min_max
[ PASS    ] sui_amm::test_position::test_cached_values_stale_after_swaps
[ PASS    ] sui_amm::test_fee_distributor::test_acc_fee_per_share_increases_on_swap
[ PASS    ] sui_amm::amm_tests::test_auto_compound_single_token_fees
[ PASS    ] sui_amm::test_edge_cases::test_deadline_at_exact_current_timestamp_succeeds
[ PASS    ] sui_amm::test_access_control::test_admin_can_cancel_proposal
[ PASS    ] sui_amm::test_k_invariant::test_k_invariant_randomized_amounts
[ PASS    ] sui_amm::test_attack_vectors::test_amp_cannot_be_below_min
[ PASS    ] sui_amm::test_position::test_cached_values_update_after_refresh
[ PASS    ] sui_amm::amm_tests::test_math
[ PASS    ] sui_amm::test_access_control::test_admin_can_create_governance_proposal
[ PASS    ] sui_amm::test_edge_cases::test_deadline_far_future_succeeds
[ PASS    ] sui_amm::test_fee_distributor::test_compound_fees_increases_liquidity
[ PASS    ] sui_amm::test_multi_lp::test_fee_claiming_order_independence
[ PASS    ] sui_amm::test_attack_vectors::test_amp_cannot_exceed_max
[ PASS    ] sui_amm::test_access_control::test_admin_can_pause_pool
[ PASS    ] sui_amm::test_k_invariant::test_k_invariant_randomized_fee_tiers
[ PASS    ] sui_amm::test_position::test_entry_price_ratio_tracks_first_deposit
[ PASS    ] sui_amm::test_access_control::test_admin_can_set_pool_creation_fee
[ PASS    ] sui_amm::test_edge_cases::test_deadline_one_ms_future_succeeds
[ PASS    ] sui_amm::amm_tests::test_pool_lifecycle
[ PASS    ] sui_amm::test_fee_distributor::test_compound_fees_with_zero_fees
[ PASS    ] sui_amm::test_access_control::test_admin_can_withdraw_protocol_fees
[ PASS    ] sui_amm::test_attack_vectors::test_fee_double_claiming_after_new_fees
[ PASS    ] sui_amm::amm_tests::test_price_impact
[ PASS    ] sui_amm::test_limit_orders::test_limit_order_cancellation
[ PASS    ] sui_amm::test_multi_lp::test_fee_distribution_proportional_three_lps
[ PASS    ] sui_amm::test_position::test_entry_price_ratio_unchanged_after_increase
[ PASS    ] sui_amm::test_access_control::test_position_owner_can_claim_fees
[ PASS    ] sui_amm::test_edge_cases::test_deadline_one_ms_past_fails
[ PASS    ] sui_amm::test_fee_distributor::test_creator_fee_calculation_and_limit
[ PASS    ] sui_amm::test_limit_orders::test_limit_order_execution_b_to_a
[ PASS    ] sui_amm::test_position::test_impermanent_loss_10x_price_movement
[ PASS    ] sui_amm::amm_tests::test_remove_liquidity
[ PASS    ] sui_amm::test_attack_vectors::test_fee_double_claiming_prevention
[ PASS    ] sui_amm::test_access_control::test_position_owner_can_remove_liquidity
[ PASS    ] sui_amm::test_fee_distributor::test_creator_fee_exceeds_limit_fails
[ PASS    ] sui_amm::test_limit_orders::test_limit_order_execution_price_met
[ PASS    ] sui_amm::test_edge_cases::test_extreme_imbalance_1_to_1000000
[ PASS    ] sui_amm::test_multi_lp::test_varying_lp_shares
[ PASS    ] sui_amm::test_position::test_impermanent_loss_2x_price_movement
[ PASS    ] sui_amm::amm_tests::test_slippage_zero_output
[ PASS    ] sui_amm::test_attack_vectors::test_paused_pool_blocks_add_liquidity
[ PASS    ] sui_amm::test_access_control::test_transferred_position_new_owner_can_operate
[ PASS    ] sui_amm::test_limit_orders::test_limit_order_expiry
[ PASS    ] sui_amm::test_fee_distributor::test_fee_accumulation_precision_many_swaps
[ PASS    ] sui_amm::amm_tests::test_stable_swap
[ PASS    ] sui_amm::test_edge_cases::test_extreme_imbalance_add_remove_liquidity
[ PASS    ] sui_amm::test_overflow::test_extreme_imbalance_no_overflow
[ PASS    ] sui_amm::test_attack_vectors::test_paused_pool_blocks_swaps
[ PASS    ] sui_amm::test_position::test_impermanent_loss_5x_price_movement
[ PASS    ] sui_amm::amm_tests::test_swap_with_tiny_amount
[ PASS    ] sui_amm::test_stable_math::test_amp_1000_minimal_slippage
[ PASS    ] sui_amm::test_stable_math::test_amp_1_approaches_constant_product
[ PASS    ] sui_amm::test_stable_math::test_amp_comparison_low_vs_high
[ PASS    ] sui_amm::test_stable_math::test_amp_effect_on_imbalanced_pool
[ PASS    ] sui_amm::test_stable_math::test_d_invariant_accuracy
[ PASS    ] sui_amm::test_stable_math::test_d_invariant_monotonicity
[ PASS    ] sui_amm::test_stable_math::test_d_invariant_symmetry
[ PASS    ] sui_amm::test_stable_math::test_extreme_imbalance_99_to_1
[ PASS    ] sui_amm::test_stable_math::test_get_d_balanced_reserves
[ PASS    ] sui_amm::test_stable_math::test_get_d_convergence_speed
[ PASS    ] sui_amm::test_stable_math::test_get_d_extreme_imbalance
[ PASS    ] sui_amm::test_stable_math::test_get_d_imbalanced_reserves
[ PASS    ] sui_amm::test_stable_math::test_get_d_large_reserves
[ PASS    ] sui_amm::test_pool_core::test_dust_amount_handling
[ PASS    ] sui_amm::test_stable_math::test_get_d_one_zero_reserve
[ PASS    ] sui_amm::test_stable_math::test_get_d_small_reserves
[ PASS    ] sui_amm::test_stable_math::test_get_d_zero_reserves
[ PASS    ] sui_amm::test_stable_math::test_get_y_balanced_pool
[ PASS    ] sui_amm::test_stable_math::test_get_y_convergence_speed
[ PASS    ] sui_amm::test_stable_math::test_get_y_imbalanced_pool
[ PASS    ] sui_amm::test_stable_math::test_get_y_invalid_configuration
[ PASS    ] sui_amm::test_stable_math::test_get_y_large_values
[ PASS    ] sui_amm::test_stable_math::test_get_y_small_values
[ PASS    ] sui_amm::test_stable_math::test_get_y_zero_d
[ PASS    ] sui_amm::test_limit_orders::test_multiple_limit_orders
[ PASS    ] sui_amm::test_stable_math::test_minimum_reserves
[ PASS    ] sui_amm::test_edge_cases::test_extreme_imbalance_swap_both_directions
[ PASS    ] sui_amm::test_math::test_constant_product_imbalanced_pool
[ PASS    ] sui_amm::test_stable_math::test_multiple_swaps_d_invariant
[ PASS    ] sui_amm::test_math::test_constant_product_no_fee
[ PASS    ] sui_amm::test_stable_math::test_precision_across_amp_range
[ PASS    ] sui_amm::test_stable_math::test_precision_amp_1
[ PASS    ] sui_amm::test_math::test_constant_product_precision
[ PASS    ] sui_amm::test_stable_math::test_precision_amp_10
[ PASS    ] sui_amm::test_fee_distributor::test_fee_accumulation_single_direction
[ PASS    ] sui_amm::test_stable_math::test_precision_amp_100
[ PASS    ] sui_amm::test_math::test_constant_product_with_fee
[ PASS    ] sui_amm::test_stable_math::test_precision_amp_1000
[ PASS    ] sui_amm::test_stable_math::test_precision_amp_500
[ PASS    ] sui_amm::test_math::test_dust_amount_handling
[ PASS    ] sui_amm::test_overflow::test_extreme_value_swap_sequence
[ PASS    ] sui_amm::test_math::test_fee_calculation_100_bps
[ PASS    ] sui_amm::test_stable_math::test_round_trip_consistency
[ PASS    ] sui_amm::test_math::test_fee_calculation_30_bps
[ PASS    ] sui_amm::test_stable_math::test_swap_simulation_consistency
[ PASS    ] sui_amm::test_stable_math::test_very_small_swap
[ PASS    ] sui_amm::test_math::test_fee_calculation_5_bps
[ PASS    ] sui_amm::test_math::test_fee_calculation_consistency
[ PASS    ] sui_amm::test_math::test_min_function
[ PASS    ] sui_amm::test_math::test_minimum_viable_swap
[ PASS    ] sui_amm::test_math::test_no_overflow_k_calculation
[ PASS    ] sui_amm::test_attack_vectors::test_pool_draining_prevention_large_swap
[ PASS    ] sui_amm::test_math::test_overflow_protection_large_input
[ PASS    ] sui_amm::test_math::test_overflow_protection_large_reserves
[ PASS    ] sui_amm::test_math::test_quote_balanced_pool
[ PASS    ] sui_amm::test_math::test_quote_imbalanced_pool
[ PASS    ] sui_amm::test_pool_core::test_extreme_imbalance_operations
[ PASS    ] sui_amm::test_math::test_quote_precision
[ PASS    ] sui_amm::test_math::test_quote_zero_amount
[ PASS    ] sui_amm::test_math::test_quote_zero_reserve
[ PASS    ] sui_amm::test_math::test_sqrt_five_floor
[ PASS    ] sui_amm::test_math::test_sqrt_four
[ PASS    ] sui_amm::test_position::test_impermanent_loss_zero_at_entry_price
[ PASS    ] sui_amm::test_math::test_sqrt_large_value
[ PASS    ] sui_amm::test_math::test_sqrt_near_max_safe
[ PASS    ] sui_amm::test_math::test_sqrt_nine
[ PASS    ] sui_amm::test_math::test_sqrt_ninety_nine_floor
[ PASS    ] sui_amm::test_math::test_sqrt_one
[ PASS    ] sui_amm::test_math::test_sqrt_one_hundred
[ PASS    ] sui_amm::test_math::test_sqrt_one_thousand_floor
[ PASS    ] sui_amm::test_math::test_sqrt_sixteen
[ PASS    ] sui_amm::test_math::test_sqrt_ten_floor
[ PASS    ] sui_amm::test_math::test_sqrt_ten_thousand
[ PASS    ] sui_amm::test_math::test_sqrt_three_floor
[ PASS    ] sui_amm::test_math::test_sqrt_twenty_five
[ PASS    ] sui_amm::test_stable_pool::test_amp_effect_on_slippage
[ PASS    ] sui_amm::test_fee_distributor::test_fee_debt_prevents_double_claiming
[ PASS    ] sui_amm::test_math::test_sqrt_two_floor
[ PASS    ] sui_amm::test_math::test_sqrt_zero
[ PASS    ] sui_amm::test_edge_cases::test_minimum_liquidity_burned_on_first_deposit
[ PASS    ] sui_amm::test_math::test_underflow_protection_zero_input
[ PASS    ] sui_amm::test_math::test_underflow_protection_zero_reserve_in
[ PASS    ] sui_amm::test_math::test_underflow_protection_zero_reserve_out
[ PASS    ] sui_amm::test_overflow::test_no_overflow_in_fee_calculations
[ PASS    ] sui_amm::test_attack_vectors::test_pool_draining_prevention_sequential_swaps
[ PASS    ] sui_amm::test_pool_core::test_extreme_value_handling_large_reserves
[ PASS    ] sui_amm::test_position::test_metadata_staleness_tracking
[ PASS    ] sui_amm::test_fee_distributor::test_fee_distribution_varying_shares
[ PASS    ] sui_amm::test_edge_cases::test_minimum_liquidity_insufficient_initial_deposit
[ PASS    ] sui_amm::test_stable_pool::test_amp_ramping_linear_interpolation
[ PASS    ] sui_amm::test_attack_vectors::test_sandwich_attack_resistance_via_slippage
[ PASS    ] sui_amm::test_share_conservation::test_share_conservation_1000_random_operations
[ PASS    ] sui_amm::test_pool_core::test_initial_lp_token_minting
[ PASS    ] sui_amm::test_overflow::test_no_overflow_in_liquidity_calculations
[ PASS    ] sui_amm::test_fee_distributor::test_min_compound_amount_threshold
[ PASS    ] sui_amm::test_position::test_multiple_positions_independent_tracking
[ PASS    ] sui_amm::test_pool_core::test_k_decreases_on_remove_liquidity
[ PASS    ] sui_amm::test_edge_cases::test_minimum_liquidity_only_burned_once
[ PASS    ] sui_amm::test_stable_pool::test_d_decreases_on_remove_liquidity
[ PASS    ] sui_amm::test_overflow::test_no_overflow_in_swap_output_calculation
[ PASS    ] sui_amm::test_share_conservation::test_share_conservation_increase_liquidity
[ PASS    ] sui_amm::test_overflow::test_no_overflow_with_large_reserves
[ PASS    ] sui_amm::test_workflows::test_complete_liquidity_lifecycle
[ PASS    ] sui_amm::test_pool_core::test_k_increases_on_add_liquidity
[ PASS    ] sui_amm::test_edge_cases::test_minimum_liquidity_with_imbalanced_amounts
[ PASS    ] sui_amm::test_position::test_new_owner_can_remove_liquidity
[ PASS    ] sui_amm::test_fee_distributor::test_proportional_fee_distribution_multiple_lps
[ PASS    ] sui_amm::test_share_conservation::test_share_conservation_varying_pool_sizes
[ PASS    ] sui_amm::test_overflow::test_price_impact_calculation_no_overflow
[ PASS    ] sui_amm::test_stable_pool::test_d_increases_on_add_liquidity
[ PASS    ] sui_amm::test_edge_cases::test_rounding_favors_protocol_in_swap
[ PASS    ] sui_amm::test_pool_core::test_k_invariant_maintained_after_swap
[ PASS    ] sui_amm::test_workflows::test_concurrent_swaps_k_maintenance
[ PASS    ] sui_amm::test_edge_cases::test_rounding_in_liquidity_calculation
[ PASS    ] sui_amm::test_position::test_nft_destroyed_on_full_removal
[ PASS    ] sui_amm::test_fee_distributor::test_protocol_fee_calculation_accuracy
[ PASS    ] sui_amm::test_pool_core::test_minimum_liquidity_edge_case
[ PASS    ] sui_amm::test_edge_cases::test_rounding_with_very_small_liquidity_removal
[ PASS    ] sui_amm::test_stable_pool::test_d_invariant_maintained_after_swap
[ PASS    ] sui_amm::test_overflow::test_safe_subtraction_in_fee_debt_update
[ PASS    ] sui_amm::test_workflows::test_swap_history_recording
[ PASS    ] sui_amm::test_share_conservation::test_share_conservation_with_full_removals
[ PASS    ] sui_amm::test_governance::test_admin_cap_requirement
[ PASS    ] sui_amm::test_pool_core::test_price_impact_calculation_accuracy
[ PASS    ] sui_amm::test_position::test_nft_minting_initial_values
[ PASS    ] sui_amm::test_edge_cases::test_single_unit_swap_maintains_invariant
[ PASS    ] sui_amm::test_workflows::test_user_preferences_application
[ PASS    ] sui_amm::test_stable_pool::test_extreme_imbalance_handling
[ PASS    ] sui_amm::test_overflow::test_safe_subtraction_in_reserve_updates
[ PASS    ] sui_amm::test_slippage::test_calculate_slippage_bps_accuracy
[ PASS    ] sui_amm::test_governance::test_execution_after_expiry
[ PASS    ] sui_amm::test_position::test_nft_minting_subsequent_lp
[ PASS    ] sui_amm::test_pool_core::test_subsequent_lp_token_minting
[ PASS    ] sui_amm::test_stable_pool::test_invalid_amp_too_high
[ PASS    ] sui_amm::test_invariants::test_d_invariant_maintained_in_stableswap
[ PASS    ] sui_amm::test_edge_cases::test_wrong_pool_increase_liquidity_fails
[ PASS    ] sui_amm::test_overflow::test_stable_pool_no_overflow_with_large_values
[ PASS    ] sui_amm::test_slippage::test_default_2_percent_slippage_stable_pool
[ PASS    ] sui_amm::test_position::test_nft_transfer_to_new_owner
[ PASS    ] sui_amm::test_overflow::test_underflow_protection_insufficient_liquidity
[ PASS    ] sui_amm::test_pool_core::test_swap_output_calculation_accuracy
[ PASS    ] sui_amm::test_slippage::test_default_5_percent_slippage_regular_pool
[ PASS    ] sui_amm::test_governance::test_execution_before_timelock
[ PASS    ] sui_amm::test_invariants::test_fee_conservation_across_multiple_lps
[ PASS    ] sui_amm::test_stable_pool::test_invalid_amp_zero
[ PASS    ] sui_amm::test_slippage::test_price_impact_limit_enforcement
[ PASS    ] sui_amm::test_edge_cases::test_wrong_pool_remove_liquidity_fails
[ PASS    ] sui_amm::test_stable_pool::test_max_amp_behavior
[ PASS    ] sui_amm::test_governance::test_fee_change_execution
[ PASS    ] sui_amm::test_stable_pool::test_min_amp_behavior
[ PASS    ] sui_amm::test_factory::test_duplicate_pool_prevention
[ PASS    ] sui_amm::test_slippage::test_price_impact_within_limit
[ PASS    ] sui_amm::test_edge_cases::test_zero_amount_add_liquidity_fails
[ PASS    ] sui_amm::test_stable_pool::test_minimal_slippage_balanced_swap
[ PASS    ] sui_amm::test_position::test_partial_removal_proportional_reduction
[ PASS    ] sui_amm::test_slippage::test_slippage_calculation_with_real_swap
[ PASS    ] sui_amm::test_stable_pool::test_stable_pair_simulation_low_slippage
[ PASS    ] sui_amm::test_invariants::test_fee_conservation_claimed_never_exceeds_accumulated
[ PASS    ] sui_amm::test_stable_pool::test_zero_reserve_handling
[ PASS    ] sui_amm::test_fee_conservation::test_fee_conservation_1000_random_claims
[ PASS    ] sui_amm::test_slippage::test_swap_abort_when_deadline_passed
[ PASS    ] sui_amm::test_governance::test_parameter_change_execution
[ PASS    ] sui_amm::test_slippage::test_swap_abort_when_max_price_exceeded
[ PASS    ] sui_amm::test_edge_cases::test_zero_amount_increase_liquidity_fails
[ PASS    ] sui_amm::test_factory::test_get_pools_for_pair
[ PASS    ] sui_amm::test_slippage::test_swap_abort_when_output_below_min_out
[ PASS    ] sui_amm::test_edge_cases::test_zero_amount_swap_fails
[ PASS    ] sui_amm::test_position::test_partial_removal_updates_fee_debt
[ PASS    ] sui_amm::test_governance::test_pause_execution
[ PASS    ] sui_amm::test_position::test_pending_fee_calculation
[ PASS    ] sui_amm::test_governance::test_proposal_cancellation
[ PASS    ] sui_amm::test_invariants::test_fee_conservation_multiple_claims
[ PASS    ] sui_amm::test_slippage::test_swap_succeeds_at_exact_deadline
[ PASS    ] sui_amm::test_governance::test_proposal_creation_timestamp
[ PASS    ] sui_amm::test_factory::test_invalid_fee_tier_rejection
[ PASS    ] sui_amm::test_factory::test_max_global_pools_limit
[ PASS    ] sui_amm::test_fee_conservation::test_fee_conservation_multiple_lps
[ PASS    ] sui_amm::test_factory::test_max_pools_per_token_limit
[ PASS    ] sui_amm::test_position::test_pending_fees_accumulate_over_multiple_swaps
[ PASS    ] sui_amm::test_slippage::test_swap_succeeds_with_realistic_min_out
[ PASS    ] sui_amm::test_governance::test_stable_pool_fee_change
[ PASS    ] sui_amm::test_position::test_position_with_zero_liquidity_after_full_removal
[ PASS    ] sui_amm::test_invariants::test_k_invariant_maintained_across_complex_operations
[ PASS    ] sui_amm::test_factory::test_pagination_correctness
[ PASS    ] sui_amm::test_governance::test_stable_pool_parameter_change
[ PASS    ] sui_amm::test_slippage::test_swap_succeeds_within_max_price
[ PASS    ] sui_amm::test_fee_conservation::test_no_fee_double_claiming
[ PASS    ] sui_amm::test_factory::test_pool_creation_with_fee_burning
[ PASS    ] sui_amm::test_invariants::test_k_invariant_never_decreases_after_swap_sequence
[ PASS    ] sui_amm::test_invariants::test_lp_share_conservation_after_partial_removal
[ PASS    ] sui_amm::test_invariants::test_lp_share_conservation_multiple_providers
[ PASS    ] sui_amm::test_invariants::test_lp_share_conservation_single_provider
Test result: OK. Total tests: 262; passed: 262; failed: 0
